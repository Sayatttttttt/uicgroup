{% extends "post/base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block content %}
<div>
    <h1>Delivery</h1>
    <form method="post">
        {% csrf_token %}
        {{ form|crispy }}
        <button type="submit">Submit</button>
    </form>
</div>
<!--<script>
    $(document).ready(function() {
        function show() {
            var pickUpAddress = $('#pick_up_address').val();
            var dropOffAddress = $('#drop_off_address').val();
            console.log($('#drop_off_address'))
            // var carType = $('#car_type').val();
    
            // Send an AJAX request to the backend to calculate the price based on the new values
            $.ajax({
                url: '/calculate_price/', // Replace with your price calculation URL
                method: 'GET',
                data: {
                    pick_up_address: pickUpAddress,
                    drop_off_address: dropOffAddress,
                    car_type: "standart" // carType
                },
                success: function(response) {
                    // Update the price field with the calculated price
                    $('#price_field').val(Math.ceil(response.price));
                },
                error: function() {
                    // Handle AJAX errors (e.g., display an error message)
                }
            });
        }
        show();
    
        // Whenever the address or car type fields change:
        $('#pick_up_address, #drop_off_address, #car_type').change(function() {
            show();
        });
    });
</script>-->
{% endblock %}